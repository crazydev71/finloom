<div class="main-content">
  <form [formGroup]="modelForm" (submit)="createAccount()">
    <div class="container-fluid row">
      <mat-card class="col-md-7 col-sm-12 col-xs-12">
        <mat-card-title>
          Create Single
        </mat-card-title>
        <mat-card-content class="row">
          <div class="col-md-7">
            <div *ngFor="let field of fields">
              <mat-form-field *ngIf="field.type=='input'">
                <input matInput placeholder="{{field.name}}" class="form-group" formControlName="{{field.id}}">
              </mat-form-field>
              <mat-form-field *ngIf="field.type=='textarea'">
                <textarea matInput placeholder="{{field.name}}" matTextareaAutosize matAutosizeMinRows="3" matAutosizeMaxRows="5" class="form-group"
                  formControlName="{{field.id}}"></textarea>
              </mat-form-field>
            </div>
          </div>
          <div class="col-md-5">
            <div class="status">
              <p>Account Type</p>
              <div class="dropdown">
                <button class="dropdown-toggle btn btn-primary btn-block" data-toggle="dropdown">{{formData.accountType ? accountTypes[formData.accountType-1].title : 'Account Type'}}
                </button>
                <b class="caret"></b>
                <ul class="dropdown-menu dropdown-menu-left">
                  <li (click)="changeFormData(-1, 'accountType')">
                    <a class="dropdown-default">Account Type</a>
                  </li>
                  <li *ngFor="let t of accountTypes; let i = index;" (click)="changeFormData(i, 'accountType')" [ngClass]="formData.accountType == i+1 ? 'active' : ''">
                    <a>{{t.title}}</a>
                  </li>
                </ul>
              </div>
            </div>
            <div class="status" *ngIf="formData.accountType==3">
              <p>Parent Account</p>
              <div class="dropdown">
                <button class="dropdown-toggle btn btn-primary btn-block" data-toggle="dropdown">{{formData.parentId ? data.accounts[formData.parentId-1].aka : 'Parent Account'}}
                </button>
                <b class="caret"></b>
                <ul class="dropdown-menu dropdown-menu-left">
                  <li (click)="changeFormData(-1, 'parentId')">
                    <a class="dropdown-default">Parent Account</a>
                  </li>
                  <li *ngFor="let act of data.accounts; let i = index;" (click)="changeFormData(i, 'parentId')" [ngClass]="formData.parentId == i+1 ? 'active' : ''">
                    <a>{{act.aka}}</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </mat-card-content>
        <mat-card-footer>
          <div class="row">
            <div class="col-md-6 col-sm-6 col-lg-4">
              <button type="submit" class="btn btn-success btn-block">Create Single</button>
            </div>
          </div>
        </mat-card-footer>
      </mat-card>
    </div>
  </form>
</div>